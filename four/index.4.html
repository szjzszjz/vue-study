<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Vue中的JS动画与velocity.js</title>

		<!-- 引入vue库 -->
		<script src="../vue.js"></script>
		<!-- 引入velocity.js 动画库 -->
		<script src="../velocity.js"></script>
	</head>
	<body>

		<!-- 
		-->

		<div id="app">
			<transition name="fade" @before-enter="handleBeforeEnter" @enter="handleEnter" @after-enter="handleAfterEnter"
			 @before-leave="handleBeforeEnter" @leave="handleEnter" @after-leave="handleAfterEnter">
				<div v-show="show">hello world</div>
			</transition>
			<button @click="btnClick">动画</button>
		</div>

		<script>
			var vm = new Vue({
				el: '#app',
				data: {
					show: true
				},
				methods: {
					btnClick: function() {
						this.show = !this.show;
					},
					//动画进入之前
					handleBeforeEnter: function(el) {
						console.log("before enter")
						// el.style.color = 'red'

						//velocity
						el.style.opacity = 0.5;
					},
					//动画正在进入,,,,
					handleEnter: function(el, done) {
						console.log("entering")
						// setTimeout(function() {
						// 	el.style.color = 'green'
						// }, 2000);
						// setTimeout(() => {
						// 	done()  //4秒钟之后进入动画执行完毕 调用done()方法
						// }, 4000)

						//velocity
						Velocity(el, {
							opacity: 1
						}, {
							duration: 1000,
							complete: done
						})
					},
					//动画进入之后
					handleAfterEnter: function(el) {
						console.log("after enter")
						// el.style.color = 'black'

						//velocity



					}
				}
			})
		</script>
	</body>
</html>
